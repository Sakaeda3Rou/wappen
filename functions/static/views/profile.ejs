<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="views/css/reset.css">
    <link rel="stylesheet" href="views/css/style.css">
    <script src="https://kit.fontawesome.com/7a89e754ee.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="global-nav">
        <ul class="global-nav__list">
            <li class="global-nav__item"><a href="/my_object">マイオブジェクト</a></li>
            <li class="global-nav__item"><a href="/object_share">オブジェクト共有</a></li>
            <li class="global-nav__item"><a href="/camera">カメラ</a></li>
            <li class="global-nav__item"><a href="/my_page">マイページ</a></li>
            <li class="global-nav__item"><a href="/clan">クラン</a></li>
            <li class="global-nav__item"><a href="/video">ビデオ通話</a></li>
        </ul>
        <a href="/logout" class="global-nav__logout">ログアウト</a>
    </div>
    <div class="hamburger" id="js-hamburger" onclick="hamburgerMove()">
        <div class="hamburger__line hamburger__line--1"></div>
        <div class="hamburger__line hamburger__line--2"></div>
        <div class="hamburger__line hamburger__line--3"></div>
    </div>
    <div class="black-bg" id="js-black-bg" onclick="hamburgerBgRemove()"></div>
    <header class="header">
        <a class="header__cancel" href="<%= cancel_link_url %>">キャンセル</a> <!-- header__cancel-btn-->
        <div class="header__title">Profile setting</div>
        <a class="header__save header__save-btn" onclick="formCheck()">保存</a> <!-- header__save-btn-->
    </header>

    <main>
        <div class="inner">

            <div class="my-qr">
                <div class="my-qr__code" style=" background-image: url(<%= markerURL %>);"></div>
            </div>

            <div class="bottom-page">

                <form class="my-user" name="my_user_form" action="<%= form_action_url %>" method="post">
                    <div class="my-user__name">ユーザー名:　
                        <input class="name-form" type="text" name="_name" placeholder="ユーザー名を入力">
                    </div>

                    <div class="my-user__birthday">　生年月日:　
                        <input class="birthday-form" name="_date" type="date">
                    </div>
                    <div class="my-user__profile-btn">
                        <input type="submit" name="my_user_submit_button" class="save-btn main-btn" value="保存" onclick="return formCheck()"></input>
                        <a class="cancel-btn main-btn" href="<%= cancel_link_url %>">キャンセル</a>
                    </div>
                </from>
            </div>
        </div>
    </main>
    <footer id="footer"></footer>
    <script src="views/js/hamburger.js"></script>
    <script>
      function sendPost() {
        // フォームボタンをクリック
        let result = document.forms.my_user_form.my_user_submit_button.click();

        return result
      }

      // 入力されているかチェック
      function formCheck() {
        let name = document.forms.my_user_form._name.value;
        let date = document.forms.my_user_form._date.value;

        if(name == "" || date == "") {
          // アラートを表示
          window.alert("入力されていない項目があります。");

          return false;
        } else {
          // フォームを送信
          sendPost();
        }
      }
    </script>
</body>

</html>
